    #Raspberry Pi FR Â» Activer les fichiers .htaccess sur Raspbian Flux
   des commentaires

   IFRAME: https://www.googletagmanager.com/ns.html?id=GTM-KSNWSC

   Raspberry Pi FR Raspberry Pi FR Raspberry Pi FR
     * Accueil
     * Tutoriels
     * ActualitÃ©s
     * TÃ©lÃ©chargements
     * Contact
          + Publiez un article chez Raspbian France
          + Contactez nous
          + Nos partenaires
     * Forum
     * FranÃ§ais FranÃ§ais

   ____________________ (BUTTON)
   ____________________ (BUTTON)
     * Accueil
     * Tutoriels
     * ActualitÃ©s
     * TÃ©lÃ©chargements
     * Contact
          + Publiez un article chez Raspbian France
          + Contactez nous
          + Nos partenaires
     * Forum
     * FranÃ§ais FranÃ§ais

   Quand les htaccess ne marchent pas, le cadenas est ouvert. Quand les
   htaccess ne marchent pas, le cadenas est ouvert.

Activer les fichiers .htaccess sur Raspbian

   Mis Ã  jour le 19 mai 2016 - 8 Commentaires - Apache, Configuration,
   Ligne de commande, Linux, Serveur, tutoriels

   Dans cet article nous allons parler de configuration serveur, et plus
   particuliÃ¨rement des fichiers .htaccess qui ne fonctionnent pas. Il
   faut donc que vous ayez installÃ© un serveur Apache sur votre Raspbian.

   Mais dâ€™abord, dÃ©finissons ce quâ€™est un fichier .htaccess.

Les .htaccess câ€™est quoi ?

   Les Â« .htaccess Â», câ€™est des fichiers. Plus prÃ©cisÃ©ment, câ€™est des
   fichiers de configuration, Ã  destination du serveur Apache.

   Ces fichiers servent Ã  de nombreuses choses, on peut citer entre autres
   la mise en place de redirections, la rÃ©Ã©criture dâ€™URL, ou la limitation
   dâ€™accÃ¨s Ã  un rÃ©pertoire (par exemple avec un mot de passe).

   La particularitÃ© des fichiers htaccess, câ€™est quâ€™ils se placent dans
   les rÃ©pertoires ciblÃ©s (et sâ€™appliquent aux rÃ©pertoires contenus par
   ceux-ci). Ils permettent donc de gÃ©rer facilement des sites, sans avoir
   la possibilitÃ© dâ€™accÃ©der Ã  la configuration centrale dâ€™Apache. Ils sont
   donc utilisÃ©s dans de trÃ¨s nombreux projets, et sont sans doute le
   meilleur moyen de gÃ©rer facilement la rÃ©Ã©criture dâ€™URL, ou les
   redirections, et dâ€™exporter ces rÃ©glages vers dâ€™autres machines, sans
   avoir besoin de configurer celles-ci.

Ã‡a fonctionne comment ?

   Les fichiers htaccess sont analysÃ©s lorsquâ€™un utilisateur envoie une
   requÃªte au serveur. Lors de la requÃªte, et afin de savoir comment y
   rÃ©pondre, le serveur possÃ¨de dÃ¨s le dÃ©part une configuration gÃ©nÃ©rale,
   celle qui sâ€™applique Ã  tous les sites. Puis, il va consulter la
   configuration spÃ©cifique du site, celle qui ne sâ€™applique quâ€™au site
   cible. Enfin, il va analyser chaque dossier depuis la racine des sites,
   jusquâ€™Ã  celui du dossier contenant la ressource demandÃ©e par la
   requÃªte, afin de voir si un fichier Â« .htaccess Â» est prÃ©sent, et le
   cas Ã©chÃ©ant appliquer le comportement adaptÃ©, Ã  son contenu au dossier,
   et Ã  ses enfants.

   Pour chaque Ã©tape, si une configuration dÃ©jÃ  renseignÃ©e lors de lâ€™Ã©tape
   prÃ©cÃ©dente est trouvÃ©e, elle viendra Ã©craser la configuration appliquÃ©e
   jusquâ€™alors.

   On pourrait rÃ©sumer ce comportement en disant que pour les
   configurations, les cas les plus particuliers prÃ©valent sur les cas
   plus gÃ©nÃ©raux.

   Ce systÃ¨me signifie donc que la prÃ©sence de fichier .htaccess va
   forcÃ©ment ralentir (bien quâ€™en pratique cela ne se voit que trÃ¨s peu)
   le serveur Apache. PrÃ©fÃ©rez donc aussi souvent que possible
   lâ€™utilisation de la configuration principale, ou de la configuration
   dÃ©diÃ©e au site, Ã  la configuration par htaccess.

   Un point important des fichiers .htaccess, câ€™est quâ€™ils bloquent les
   requÃªtes des utilisateurs, mais pas du serveur lui-mÃªme. Il est donc
   possible dâ€™inclure en PHP un fichier dans un dossier protÃ©gÃ© par
   .htaccess. Cela permet par exemple de stocker des fichiers de
   configuration, ou des fichiers servant de bases de donnÃ©es.

   Pour que vous compreniez bien, voici un petit schÃ©ma rÃ©sumant le
   fonctionnement dâ€™apache et des fichiers Â« .htaccess Â».
   SchÃ©ma de fonctionnement des .htaccess SchÃ©ma de fonctionnement des
   .htaccess

   Le fonctionnement des .htaccess et de la configuration Apache. En noir
   les actions toujours effectuÃ©e, en vert celle effectuÃ©es si le test est
   positif, en rouge si il est nÃ©gatif.

   Vous devriez maintenant avoir tout compris ! Les fichiers .htaccess
   nâ€™ont plus de secret pour vous, et vous saurez toujours quelle
   configuration a la prioritÃ© !

   Nous allons donc pouvoir passer au cÅ“ur du tutoriel, Ã  savoir comment
   activer les fichiers .htaccess.

Pourquoi mes .htaccess ne marchent pas ?

   Câ€™est un problÃ¨me que nous avons dÃ©jÃ  rencontrÃ© dans lâ€™Ã©quipe de
   rÃ©daction (comme toujours avec nos tutoriels). Nous prenons une
   Raspberry, nous installons un serveur web dessus, nous crÃ©ons un
   dossier pour y stocker des sauvegardes de bases de donnÃ©es, ou des
   fichiers de configurations sensibles, nous en restreignons lâ€™accÃ¨s via
   un .htaccess, etâ€¦ Ã‡a marche pas. Le serveur ne nous empÃªche pas
   dâ€™accÃ©der au contenu du dossier.

   Alors pourquoi Ã§a ? Pourquoi ce maudit serveur continue de nous fournir
   les donnÃ©es sur un plateau dâ€™argent ? Il y a trois possibilitÃ©s qui
   peuvent expliquer cette situation :
    1. Le fichier .htaccess nâ€™est pas au bon endroit.
    2. Le fichier .htaccess est mal Ã©crit.
    3. Les fichiers .htaccess ne marchent pas, ils ne sont pas activÃ©s
       dans Apache.

VÃ©rifier la cause du problÃ¨me des .htaccess, et les activer.

   Maintenant que nous connaissons les diffÃ©rentes causes dâ€™erreurs
   possibles, nous allons voir comment trouver laquelle empÃªche vos
   .htaccess de fonctionner.

Mauvais emplacement

   Dans le premier cas, Ã  vous de vÃ©rifier si le fichier .htaccess est
   bien dans le rÃ©pertoire adaptÃ©, par exemple via la commande suivante :
ls -a chemin_repertoire | grep .htaccess

   Lâ€™argument -a permet dâ€™afficher tous les fichiers, mÃªme les fichiers
   cachÃ©s (sous Unix, les fichiers commenÃ§ant par un point, comme Â«
   .htaccess Â» sont cachÃ©s). Et la commande grep permet de rÃ©cupÃ©rer
   uniquement la ligne concernant le fichier .htaccess. Vous devriez donc
   obtenir comme retour Â« .htaccess Â». Si vous obtenez un retour vide,
   cela signifie que le fichier .htaccess nâ€™est pas prÃ©sent. Ã€ vous alors
   de le crÃ©er et de le remplir comme il se doit.

Htaccess mal Ã©crit

   Maintenant que nous avons vu que le problÃ¨me ne provient pas du fait
   que le fichier soit mal placÃ©, nous allons vÃ©rifier sâ€™il ne sâ€™agit pas
   dâ€™un simple problÃ¨me de fichier .htaccess mal fait. Pour cela, nous
   allons crÃ©er Ã  la racine du serveur web (le dossier contenant tous les
   sites, a priori le rÃ©pertoire Â« /var/www Â») un fichier .htaccess
   interdisant tous les accÃ¨s, pour tous les utilisateurs.

   Pour cela, utilisez la commande :
echo 'deny from all' > /var/www/html/.htaccess

   Tentez maintenant dâ€™accÃ©der Ã  lâ€™adresse de votre site. Vous devriez
   obtenir une erreur 403, Â« You donâ€™t have permission to access / on this
   server. Â».
   Screenshot d'une erreur 403 par Apache. Screenshot d'une erreur 403 par
   Apache.

   Une jolie erreur 403 dâ€™Apache.

   Si câ€™est le cas, cela signifie que vous aviez simplement mal Ã©crit
   votre fichier .htaccess. LÃ  encore, Ã  vous de trouver comment Ã©crire
   correctement un fichier .htaccess, de la documentation sur le sujet
   existe.

   Si ce nâ€™est pas le cas, cela signifie que la configuration par htaccess
   nâ€™est pas activÃ©e dans Apache. Il va donc falloir activer les .htaccess
   dans Apache, et Ã§a se passe dans la configuration.

Htaccess pas activÃ©

   Sâ€™il ne sâ€™agit ni dâ€™un mauvais emplacement, ni dâ€™un htaccess mal Ã©crit,
   alors câ€™est forcÃ©ment que vos fichiers .htaccess ne sont pas activÃ©s.
   Câ€™est le cas par dÃ©faut lors de lâ€™installation dâ€™Apache sur Raspbian.

Pourquoi Raspbian nâ€™active pas les .htaccess par dÃ©faut ?

   La question est tout de mÃªme lÃ©gitime. Pourquoi, alors que tout le
   monde les utilise, Raspbian nâ€™active pas automatiquement les fichiers
   .htaccess ?

   La rÃ©ponse Ã  dÃ©jÃ  Ã©tÃ© Ã©voquÃ©e plus haut, câ€™est pour des raisons de
   performances.

   Lors de la partie sur le fonctionnement des .htaccess, nous avons dit
   que le fait de mettre un .htaccess rÃ©duit les performances du serveur,
   ce dernier devant le lire, interprÃ©ter les modifications Ã  apporter, et
   les mettre en place.

   Cependant, mÃªme si lâ€™on ne met pas de fichiers htaccess en place, cela
   rÃ©duit quand mÃªme les performances du serveur. En effet, nous lâ€™avons
   Ã©galement expliquÃ©, le serveur va systÃ©matiquement chercher si un
   fichier Â« .htaccess Â» existe, et ce pour chaque rÃ©pertoire jusquâ€™Ã 
   celui (inclus) de la ressource demandÃ©e. Par consÃ©quent, des ressources
   seront utilisÃ©es Ã  chaque fois, afin de vÃ©rifier la prÃ©sence ou non de
   ces fichiers, alors quâ€™il nâ€™en existe aucun. Il sâ€™agit donc de
   ressources dÃ©pensÃ©es absolument pour rien.

   Pour Ã©viter cela, la seule solution est de dÃ©sactiver le support des
   htaccess dans Apache.

   Par consÃ©quent, certaines distributions, dont Debian, et par consÃ©quent
   Raspbian, ont choisi de dÃ©sactiver par dÃ©faut le support des .htaccess
   dans les options dâ€™Apache, et ce dans lâ€™optique dâ€™optimiser la vitesse
   du systÃ¨me, laissant le soin aux utilisateurs dâ€™activer les .htaccess
   dans Apache uniquement sâ€˜ils en ont lâ€™utilitÃ©.

   Il sâ€™agit finalement dâ€™un vraie bonne idÃ©e.

Activer le support des htaccess dans Apache

   Pour cette partie nous allons rÃ©utiliser le fichier .htaccess crÃ©Ã© lors
   de la vÃ©rification de lâ€™Ã©criture du .htaccess. En consÃ©quence, si ce
   nâ€™est pas encore fait, crÃ©ez-le.

   Jusquâ€™Ã  prÃ©sent, mÃªme avec le .htaccess refusant toutes les connexions
   et placÃ© dans le rÃ©pertoire racine de vos sites web, lors dâ€™une requÃªte
   votre serveur vous retourne toujours les ressources sans broncher.

   Nous allons donc modifier les configurations dâ€™Apache2, et activer les
   htaccess. Pour cela, Ã©ditez le fichier de configuration par dÃ©faut des
   sites dâ€™Apache avec votre Ã©diteur favori, pour nous ce sera Â« nano Â»
   (il vous faudra les droits root, soit via lâ€™utilisation du compte root,
   soit via la commande sudo) :
nano /etc/apache2/apache2.conf

   Puis, cherchez les lignes :
AllowOverride None

   Et remplacez-les par
AllowOverride All

   Enfin, enregistrez les modifications.

   Astuces :
     * Avec nano vous pouvez faire une recherche via le raccourci clavier
       Ctrl + w
     * Avec vi (ou Ã©quivalent), vous pouvez directement remplacer les
       lignes en tapant Â« :%s/AllowOverride None/AllowOverride All/g Â»

   Si vous avez crÃ©Ã© dâ€™autres fichiers de configuration pour certains
   sites, dans lesquelles sont renseignÃ©s Â« AllowOverride Â», assurez-vous
   de bien les mettre Ã  la bonne valeur eux aussi.

   Pour que les modifications soient prises en compte, vous devez
   redÃ©marrer le serveur Apache :
/etc/init.d/apache2 restart

   Les fichiers htaccess devraient maintenant Ãªtre opÃ©rationnels.

   VÃ©rifiez-le en tentant dâ€™accÃ©der Ã  votre site. Si vous avez crÃ©Ã© le
   fichier .htaccess de la partie Â« htaccess mal Ã©crit Â», vous devriez
   alors obtenir une erreur 403. Il ne vous reste plus quâ€™Ã  supprimer le
   fichier Â« .htaccess Â» de test, via la commande :
rm /var/www/html/.htaccess

   VoilÃ , vos fichiers .htaccess sont maintenant activÃ©s, et vous pouvez
   de nouveau utiliser vos redirections et autres restrictions dâ€™accÃ¨s.

   Vous nâ€™avez plus quâ€™Ã  vous prendre un disque dur externe, et vous
   pourrez stocker tous vos films sur votre serveur, et protÃ©ger le
   rÃ©pertoire avec un mot de passe, et ainsi accÃ©der Ã  vos films depuis
   nâ€™importe oÃ¹ !

   Sinon, vous pouvez toujours vous amuser Ã  crÃ©er dâ€™autres choses avec
   votre Raspberry Pi, comme un media-center pourquoi pas, ou encore une
   console pour le rÃ©tro-gaming !
   Partager
   Newsletter
   [favicon.png] [svg%3E]
   Auteur :
   Raspberry Pi FR
   DÃ©buter avec la raspberry pi
   Le livre pour dÃ©buter
   [book-fr.png] [svg%3E] Lire le livre
   La formation vidÃ©o
   [elephorm-fr.png] [svg%3E] Suivre la formation
   Nos partenaires
   [amazon-fr.png] [svg%3E] Visiter Amazon
   [kubii-fr.png] [svg%3E] Visiter Kubii
   [ipvanish-fr.png] [svg%3E] Visiter IPVanish
   Les indispensables
   La nouvelle Raspberry Pi 4
   [raspberry-pi-4-fr.jpg] [svg%3E] Voir la Raspberry Pi 4
   Raspberry Pi 3B+
   [raspberry-pi-3-fr.png] [svg%3E] Voir la Raspberry Pi 3B+
   Alimentation 5v 3A
   [power-supply-fr.png] [svg%3E] Voir l'alimentation
   Carte MicroSD
   [microsd-fr.png] [svg%3E] Voir la carte MicroSD
   BoÃ®tier de protection
   [case-fr.png] [svg%3E] Voir le boÃ®tier
   Mini clavier sans fil
   [keyboard-fr.png] [svg%3E] Voir le clavier
   Rejoignez la communautÃ© Raspberry Pi
   Un ordinateur Ã  35â‚¬ dÃ©jÃ  vendu Ã  10 millions d'exemplaires
   ACHETEZ LA RASPBERRY PI 3 ACHETEZ LA NOUVELLE RASPBERRY PI 4
   Tutoriels en rapport
   Installer un media-center avec OSMC sur votre Raspberry Pi ! RaspiSMS
   2.0, envoyer des SMS par internet avec la Raspberry Pi Bien choisir vos
   accessoires pour les Raspberry Pi 3 et 2 Envoyer, gÃ©rer et recevoir des
   SMS avec la Raspberry Pi Installer un serveur web sur votre Raspberry
   (Apache + PHP + MySQL)
   8 commentaires
   Besoin d'aide ? Vous la trouverez plus vite sur notre forum.

Annuler la rÃ©ponse


   ____________________________________________________________
   ____________________________________________________________
   ____________________________________________________________
   ____________________________________________________________

   ____________________

   ____________________

   ____________________

   Laisser un commentaire

    1. ExtraDev dit :
       2 janvier 2017 Ã  12 h 18 min
       Bonjour jâ€™ai rÃ©alisÃ© un site rÃ©alisÃ© avec un fichier .htaccess pour
       de la rÃ©Ã©criture dâ€™URL.
       Dans celui-ci:
       #follow symbolics links
       Options +FollowSymlinks
       #Enable rewrite module
       RewriteEngine All
       #Action without id
       RewriteRule ^([a-zA-Z]+).html index.php?action=$1 [L]
       #Action with id
       RewriteRule ^([a-zA-Z]+)-([0-9]+).html index.php?action=$1&id=$2
       [L]
       MÃªme avec votre tutoriel, cela ne fonctionnait pas. Je suis allez
       voir dans les fichier dâ€™erreurs et jâ€™ai constatÃ© que
       Â« RewriteEngine Â» devait Ãªtre en Â« On Â» ou Â« Off Â» et non en
       Â« All Â» ou Â« None Â». Si jamais des personnes ont des erreurs 500 de
       vous recommande de vÃ©rifier cela.
       Encore petit conseil, si votre site ne fonctionne pas, ne pas
       hÃ©siter Ã  aller voir dans:
       /var/log/apache2/error.log
       Câ€™est lÃ  que jâ€™ai pu comprendre lâ€™origine de mon erreur.
       RÃ©pondre
         1. Raspbian France dit :
            8 janvier 2017 Ã  15 h 47 min
            Bonjour,
            merci de partager ton expÃ©rience !
            le log câ€™est la vie ðŸ˜‰
            RÃ©pondre
    2. klode dit :
       3 mars 2016 Ã  17 h 52 min
       bonjour,
       jâ€™ai aussi ce problÃ¨me de .htaccess donc je regarde dans
       apache2.conf et jâ€™ai ces lignes :
       AccessFileName .htaccess
       Order allow,deny
       Deny from all
       Satify all
       que dois-je modifiÃ© ?
       merci
       RÃ©pondre
         1. Raspbian France dit :
            10 mars 2016 Ã  16 h 10 min
            Salut,
            câ€™est les seules lignes du fichier ?
            RÃ©pondre
    3. Kylernet dit :
       8 novembre 2015 Ã  13 h 48 min
       Bonjour,
       superbes tutos merci encore, ils sont trÃ¨s utiles.
       Par contre pour les .htaccess ce nâ€™est pas dans
       /etc/apache2/sites-enabled/000-default
       car je nâ€™ai aucune lignes oÃ¹ il y a AllowOverride
       mais dans le fichier de conf apache2 ou il faut changer
       AllowOverride All.
       Options Indexes FollowSymLinks
       AllowOverride All
       Require all granted
       Jâ€™espÃ¨re ne pas dire de bÃªtises.
       Merci encore!
       RÃ©pondre
    4. harun dit :
       12 mai 2015 Ã  15 h 54 min
       comment activer le rewrite module ???
       parce jâ€™ai toujours une erreur quand je met mes fichiers htaccess,
       alors que sur mamp Ã§a marche (en local)
       câ€™est que il faut modifier une configuration dans lâ€™apache du
       raspberry ?
       lâ€™erreur câ€™est le 500 internal error
       RÃ©pondre
         1. Raspbian France dit :
            21 mai 2015 Ã  14 h 16 min
            Salut,
            ouais câ€™est une config Ã  faire dans lâ€™Apache du Raspberry Pi.
            Il faut que tu lances la commande Â« a2enmod rewrite Â» pour
            activer la rÃ©-Ã©criture dâ€™URL.
            RÃ©pondre

   Partager
     * Twitter
     * Facebook
     * Google +
     * E-mail

   Inscription Ã  la Newsletter
   ____________________ S'inscrire
   Inscrivez-vous Ã  la Newsletter.
   Vous avez aimÃ© cet article ?
   Inscrivez-vous et restez informÃ© !
   ____________________ S'inscrire

   [logo-raspbian-gray-small.png] [svg%3E]
   Copyright Â© 2016 Raspberry Pi FR - Textes soumis au droit d'auteur
   Conditions GÃ©nÃ©rales d'Utilisation
   Raspberry Pi est une marque dÃ©posÃ©e de la Raspberry Pi Foundation
   GitHub Twitter RSS
    #Raspberry Pi FR Â» Installer Nginx Raspbian, et accÃ©lÃ©rez votre
   serveur web Raspberry Flux des commentaires alternate alternate

   IFRAME: https://www.googletagmanager.com/ns.html?id=GTM-KSNWSC

   Raspberry Pi FR Raspberry Pi FR Raspberry Pi FR
     * Accueil
     * Tutoriels
     * ActualitÃ©s
     * TÃ©lÃ©chargements
     * Contact
          + Publiez un article chez Raspbian France
          + Contactez nous
          + Nos partenaires
     * Forum
     * FranÃ§ais FranÃ§ais
          + English English

   ____________________ (BUTTON)
   ____________________ (BUTTON)
     * Accueil
     * Tutoriels
     * ActualitÃ©s
     * TÃ©lÃ©chargements
     * Contact
          + Publiez un article chez Raspbian France
          + Contactez nous
          + Nos partenaires
     * Forum
     * FranÃ§ais FranÃ§ais
          + English English

   Un serveur Nginx, une Raspberry, un Raspbian, une solution ! Un serveur
   Nginx, une Raspberry, un Raspbian, une solution !

Installer Nginx Raspbian, et accÃ©lÃ©rez votre serveur web Raspberry

   Mis Ã  jour le 22 mars 2018 - 57 Commentaires - Apache, Installation,
   Ligne de commande, Linux, Nginx, Planet-libre, tutoriels

   Cela fait quelques temps que nous nâ€™avons pas Ã©crit de tutoriel. En
   effet, nous nous sommes octroyÃ© quelques jours de vacances, et nous
   voici aujourdâ€™hui de retour.

   Câ€™est donc ici un tutoriel venant complÃ©ter celui traitant de
   lâ€™installation dâ€™un serveur web sur la Raspberry. En effet, il sera ici
   question de lâ€™installation dâ€™un serveur web autre quâ€™Apache, Ã  savoir
   Nginx.

Nginx câ€™est quoi ?

   Avant dâ€™installer Nginx, il convient de comprendre ce quâ€™est au juste
   Nginx.

   Nginx câ€™est un serveur web.

   Il permet donc Ã  un client dâ€™accÃ©der Ã  une ressource sur une machine
   distante, et Ã  cette machine de retourner la ressource adaptÃ©e au
   client. Il sâ€™agit dâ€™un logiciel libre, distribuÃ© sous licence BSD. Il a
   vu le jour en 2002, en Russie, mais ne câ€™est vraiment dÃ©veloppÃ© quâ€™Ã 
   partir de 2006, quand il a commencÃ© Ã  Ãªtre traduit du russe vers
   lâ€™anglais.
   Les parts de marchÃ© de Nginx monte rapidement Les parts de marchÃ© de
   Nginx monte rapidement

   Nginx monte rapidement, ici lâ€™Ã©volution des parts de marchÃ© des
   serveurs web en 2016 â€“ source : w3techs.com

   Nginx reprÃ©sente 20,4 % des serveurs. Câ€™est bien moins que son
   principal concurrent Apache, qui reprÃ©sente 60,6 % de parts de marchÃ©,
   mais câ€™est tout de mÃªme Ã©norme. Il occupe ainsi la deuxiÃ¨me place des
   serveurs (devant les boulets de chez Microsoft avec leurs 14,1%), ce
   qui est une performance dâ€™autant plus importante que le concurrent
   Apache occupe une place historique absolument Ã©norme, et est un acteur
   majeur, non seulement au-travers de son serveur, mais aussi au-travers
   de la licence Apache.

Mais pourquoi installer Nginx plutÃ´t quâ€™Apache ?

   Câ€™est bien sÃ»r la question la plus importante. Pourquoi choisir un
   serveur secondaire plutÃ´t que lâ€™acteur principal du marchÃ© ? La rÃ©ponse
   est simple, les performances !

   Nginx est un serveur dit Â« Asynchrone Â». Cela signifie quâ€™il peut
   exÃ©cuter plusieurs actions en mÃªme temps, sans attendre la fin de la
   premiÃ¨re pour passer Ã  la seconde. Ce nâ€™est pas le cas dâ€™Apache qui,
   sâ€™il permet plusieurs requÃªtes en mÃªme temps va alors lancer de
   nouveaux processus.

   En clair, cela signifie trois choses.

   PremiÃ¨rement, Nginx rÃ©pond beaucoup plus vite quâ€™Apache.

   DeuxiÃ¨mement, Nginx permet de supporter plus dâ€™utilisateurs
   simultanÃ©ment.

   TroisiÃ¨mement, Nginx consomme moins de RAM quâ€™Apache, ce qui est trÃ¨s
   important compte tenu du fait que la Raspberry, mÃªme dans son modÃ¨le 3,
   ne dispose que de 1024Mo de RAM non extensibles. Cela est dâ€™autant plus
   important dans le cadre du modÃ¨le B+ et de ses 512 Mo de RAM.

   Alors vous vous doutez bien que tout cela nâ€™est pas sans contrepartie.

   Nginx ne rÃ©agit pas toujours comme Apache2 avec PHP.

   Il nâ€™est pas aussi facile de tester Nginx quâ€™Apache sur une machine
   Windows.

   Enfin, Nginx ne supporte pas les fichiers .htaccess, que vous devrez
   convertir pour Nginx, et que vous ne mettrez pas dans un fichier dans
   le rÃ©pertoire cible, mais dans le fichier de configuration du site.

   Cependant, Nginx vaut vraiment le coup, et câ€™est sans doute un meilleur
   choix quâ€™Apache pour un serveur web sur la Raspberry.

DÃ©sactiver le serveur Apache

   Nous considÃ©rerons ici que vous avez dÃ©jÃ  suivi le tutoriel sur
   lâ€™installation dâ€™un serveur web Apache, avec PHP et MySQL. Par
   consÃ©quent nous ne rÃ©installerons pas les deux derniers, et nous
   dÃ©sactiverons le premier, sans toutefois le dÃ©sinstaller. Il sâ€™agira lÃ 
   de notre premiÃ¨re Ã©tape. Si vous nâ€™avez pas installÃ© de serveur Apache,
   vous pouvez passer cette premiÃ¨re Ã©tape.

   Tout dâ€™abord, il convient de dÃ©sactiver le serveur Apache actuellement
   en cours dâ€™exÃ©cution.

   Pour cela, il suffit dâ€™utiliser la commande suivante :
sudo /etc/init.d/apache2 stop

   Le serveur Apache2 ne tourne plus. Nous allons maintenant lâ€™empÃªcher de
   se lancer automatiquement au dÃ©marrage de Raspbian comme il le fait
   pour lâ€™instant.

Ne pas lancer Apache au dÃ©marrage

   Sur les derniÃ¨res versions de Debian (et donc Raspbian), systemd a pris
   le pas sur la mÃ©thode traditionnel de gestion des services.

   Nous allons donc dÃ©sactiver Apache au dÃ©marrage. Pour cela, il vous
   suffit de lancer la commande suivante :
sudo systemctl disable apache2

   Si vous le souhaitez, vous pouvez redÃ©marrer votre Raspberry Pi

Lancer automatiquement Apache au dÃ©marrage

   Il est possible que vous souhaitiez un jour rÃ©activer le dÃ©marrage
   automatique dâ€™Apache. Pour cela, vous devrez utiliser la mÃªme commande
   que pour le dÃ©sactiver, mais avec des arguments diffÃ©rents :
sudo systemctl enable apache2

   Cette fois lâ€™argument Â« enable Â» va demander au programme de lancer
   Apache2 au dÃ©marrage du serveur.

   Notez que vous ne pourrez pas (par dÃ©faut) faire cohabiter Apache et
   Nginx !

   Vous savez dÃ©sormais comment activer ou dÃ©sactiver le dÃ©marrage
   automatique dâ€™Apache et nous allons maintenant pouvoir installer Nginx.

Installer le serveur Nginx pour Raspbian

   Comme nous lâ€™avions fait pour Apache2, nous allons de nouveau utiliser
   le gestionnaire de paquet Â« aptitude Â» pour installer Nginx et php-fpm
   sur la Raspberry depuis les dÃ©pÃ´ts Raspbian.

   Pour cela, il vous suffit dâ€™utiliser la commande :
sudo apt install nginx php-fpm

   Par dÃ©faut, Nginx nâ€™est pas liÃ© Ã  PHP. Lors du dÃ©veloppement de Nginx,
   le choix a Ã©tÃ© fait dâ€™utiliser PHP-FMP (une version plus rapide de PHP)
   plutÃ´t quâ€™un PHP plus traditionnel. Par consÃ©quent, on va installer
   php-fpm pour gÃ©rer les fichiers PHP avec Nginx.


   Vous pouvez vÃ©rifier si votre serveur marche correctement de la mÃªme
   faÃ§on que pour vÃ©rifier si un serveur Apache fonctionne, câ€™est-Ã -dire
   en lanÃ§ant une requÃªte sur le port 80 de votre serveur. Vous obtiendrez
   alors une page marquÃ©e Â« Welcome to nginx! Â».

Configurer Nginx

   Maintenant que Nginx est bien installÃ©, il va falloir rajouter un tout
   petit peu de configuration. Nous nâ€™allons pas ici vous expliquer
   comment se configure un serveur Nginx, nous allons simplement modifier
   le dossier contenant vos sites, ajouter les pages index.php comme pages
   par dÃ©faut, et enfin ajouter PHP.

   Pour cela, Ã©ditez le fichier Â« /etc/nginx/sites-available/default Â»,
   par exemple via la commande :
sudo nano /etc/nginx/sites-available/default

   et cherchez la ligne
index index.html index.htm index.nginx-debian.html;


   pour la remplacer par la ligne
index index.html index.htm index.php;

   Cela va rajouter une redirection automatique vers les fichiers Â«
   index.php Â» pour les dossiers du site, comportement par dÃ©faut de
   Apache.

   Nous allons maintenant activer php-fpm pour Nginx. Pour cela, cherchez
   les lignes
 #location ~ \.php$ {
 # include snippets/fastcgi-php.conf;
 #
 # # With php5-cgi alone:
 # fastcgi_pass 127.0.0.1:9000;
 # # With php5-fpm:
 # fastcgi_pass unix:/var/run/php/php7.0-fpm.sock;
 #}


   et modifier les afin dâ€™obtenir le rÃ©sultat suivant :
 location ~ \.php$ {
 include snippets/fastcgi-php.conf;
 fastcgi_pass unix:/var/run/php/php7.0-fpm.sock;
 }


   Il ne nous reste plus quâ€™Ã  modifier les droits du dossier
   Â« /var/www/html Â» pour pouvoir gÃ©rer nos sites plus facilement. Pour
   cela, il vous suffit de lancer les commandes suivantes :


 sudo chown -R www-data:pi /var/www/html/
 sudo chmod -R 770 /var/www/html/


   Enfin, nous allons ajouter un fichier Â« index.php Â» pour vÃ©rifier que
   PHP fonctionne. Pour cela, lancez la commande suivante :
 echo "<?php phpinfo(); ?>" > /var/www/html/index.php


   Une fois tout ceci fait, vous devez redÃ©marrer Nginx, afin dâ€™appliquer
   les modifications, toujours avec la commande :
sudo /etc/init.d/nginx restart

   Vous nâ€™avez plus quâ€™Ã  vÃ©rifier le bon fonctionnement du serveur, comme
   prÃ©cÃ©demment. Vous devriez obtenir une page affichant les informations
   de PHP.

Erreur 403 forbidden, un classique de Nginx.

   Il est possible que vous obteniez une erreur Â« 403 forbidden Â». Cela
   peut signifier deux choses.
   Page d'erreur 403 d'un serveur Nginx Page d'erreur 403 d'un serveur
   Nginx

   Lâ€™erreur 403 est frÃ©quente avec Nginx, mais simple Ã  corriger.

   Tout dâ€™abord, cela peut signifier que Nginx ne trouve pas de fichier Ã 
   afficher, mais contrairement Ã  Apache, il ne va pas lister les fichiers
   du dossier. Pour tester cela, il vous suffit de crÃ©er un fichier
   index.html dans le rÃ©pertoire Â« /var/www Â», et de re-essayer dâ€™accÃ©der
   Ã  votre site. Par exemple via la commande :
echo 'Nginx marche !' > /var/www/html/index.html

   Si le problÃ¨me venait bien de lÃ , vous devriez obtenir une page marquÃ©e
   Â« Nginx marche ! Â« . Ã€ vous maintenant de mettre un fichier dâ€™index qui
   vous convienne.

   En revanche, si cela ne rÃ©sout pas le problÃ¨me, alors le problÃ¨me est
   probablement que Nginx ne peut accÃ©der au rÃ©pertoire Â« /var/www/html Â».
   Dans ce cas, il faut donner le rÃ©pertoire Ã  Â« www-data Â», avec les
   autorisations suffisantes.

   Pour cela, utilisez les deux lignes suivantes :
 chown www-data:www-data /var/www
 chmod 744 /var/www


Conclusion

   VoilÃ , Nginx est installÃ© sur la Raspberry, et votre serveur web
   Raspbian devrait tourner encore plus vite quâ€™avant !

   Et si ce nâ€™est pas suffisant, vous pouvez par exemple installer un
   cache php. Nous ferons peut-Ãªtre un tutoriel dessus dans quelques temps
   ;).

   Et dans tous les cas, vous pouvez toujours allez faire un tour ici, et
   vous trouverez peut-Ãªtre de nouvelles idÃ©es dâ€™utilisations de votre
   Raspberry.
   Partager
   Newsletter
   [favicon.png] [svg%3E]
   Auteur :
   Raspberry Pi FR
   DÃ©buter avec la raspberry pi
   Le livre pour dÃ©buter
   [book-fr.png] [svg%3E] Lire le livre
   La formation vidÃ©o
   [elephorm-fr.png] [svg%3E] Suivre la formation
   Nos partenaires
   [amazon-fr.png] [svg%3E] Visiter Amazon
   [kubii-fr.png] [svg%3E] Visiter Kubii
   [ipvanish-fr.png] [svg%3E] Visiter IPVanish
   Les indispensables
   La nouvelle Raspberry Pi 4
   [raspberry-pi-4-fr.jpg] [svg%3E] Voir la Raspberry Pi 4
   Raspberry Pi 3B+
   [raspberry-pi-3-fr.png] [svg%3E] Voir la Raspberry Pi 3B+
   Alimentation 5v 3A
   [power-supply-fr.png] [svg%3E] Voir l'alimentation
   Carte MicroSD
   [microsd-fr.png] [svg%3E] Voir la carte MicroSD
   BoÃ®tier de protection
   [case-fr.png] [svg%3E] Voir le boÃ®tier
   Mini clavier sans fil
   [keyboard-fr.png] [svg%3E] Voir le clavier
   Rejoignez la communautÃ© Raspberry Pi
   Un ordinateur Ã  35â‚¬ dÃ©jÃ  vendu Ã  10 millions d'exemplaires
   ACHETEZ LA RASPBERRY PI 3 ACHETEZ LA NOUVELLE RASPBERRY PI 4
   Tutoriels en rapport
   Installer un media-center avec OSMC sur votre Raspberry Pi ! RaspiSMS
   2.0, envoyer des SMS par internet avec la Raspberry Pi Bien choisir vos
   accessoires pour les Raspberry Pi 3 et 2 Envoyer, gÃ©rer et recevoir des
   SMS avec la Raspberry Pi Installer un serveur web sur votre Raspberry
   (Apache + PHP + MySQL)
   57 commentaires
   Besoin d'aide ? Vous la trouverez plus vite sur notre forum.

Annuler la rÃ©ponse


   ____________________________________________________________
   ____________________________________________________________
   ____________________________________________________________
   ____________________________________________________________

   ____________________

   ____________________

   ____________________

   Laisser un commentaire

Navigation dans les commentaires

   Commentaires plus anciens
    1. Avery Castleberry dit :
       28 aoÃ»t 2019 Ã  20 h 31 min
       Do you mind if I quote a few of your articles as long as I provide
       credit and sources back to your webpage? My blog site is in the
       very same niche as yours and my users would definitely benefit from
       some of the information you provide here. Please let me know if
       this alright with you. Thank you!
       RÃ©pondre
         1. Raspberry Pi FR dit :
            29 aoÃ»t 2019 Ã  14 h 27 min
            Hello, absolutly no problem, if you can make a link to our
            website we would appreciate that ðŸ™‚
            RÃ©pondre
    2. J-C dit :
       21 mars 2018 Ã  19 h 10 min
       Bonjour,
       Merci pour le tuto. Juste 2 soucis rencontrÃ©s :
       1) sudo aptitude install nginx php5-fpm au lieu de sudo aptitude
       install nginx php-fpm
       2) sudo nano /etc/nginx/sites-available/default au lieu de nano
       /etc/nginx/sites-available/default
       Sinon parfait jâ€™ai pu enchainer aprÃ¨s avec
       https://raspberry-pi.fr/monitoring-raspberry-pi/
       RÃ©pondre
         1. Raspbian France dit :
            22 mars 2018 Ã  17 h 22 min
            Salut, on met Ã§a Ã  jour, merci du retour.
            RÃ©pondre
    3. thierry dit :
       18 janvier 2018 Ã  12 h 52 min
       merci pour ce tuto il mâ€™a beaucoup aidÃ©
       RÃ©pondre

Navigation dans les commentaires

   Commentaires plus anciens
   Partager
     * Twitter
     * Facebook
     * Google +
     * E-mail

   Inscription Ã  la Newsletter
   ____________________ S'inscrire
   Inscrivez-vous Ã  la Newsletter.
   Vous avez aimÃ© cet article ?
   Inscrivez-vous et restez informÃ© !
   ____________________ S'inscrire

   [logo-raspbian-gray-small.png] [svg%3E]
   Copyright Â© 2016 Raspberry Pi FR - Textes soumis au droit d'auteur
   Conditions GÃ©nÃ©rales d'Utilisation
   Raspberry Pi est une marque dÃ©posÃ©e de la Raspberry Pi Foundation
   GitHub Twitter RSS
    #Raspberry Pi FR Â» Flux de lâ€™Ã©tiquette Nginx alternate alternate

   IFRAME: https://www.googletagmanager.com/ns.html?id=GTM-KSNWSC

   Raspberry Pi FR Raspberry Pi FR Raspberry Pi FR
     * Accueil
     * Tutoriels
     * ActualitÃ©s
     * TÃ©lÃ©chargements
     * Contact
          + Publiez un article chez Raspbian France
          + Contactez nous
          + Nos partenaires
     * Forum
     * FranÃ§ais FranÃ§ais
          + English English

   ____________________ (BUTTON)
   ____________________ (BUTTON)
     * Accueil
     * Tutoriels
     * ActualitÃ©s
     * TÃ©lÃ©chargements
     * Contact
          + Publiez un article chez Raspbian France
          + Contactez nous
          + Nos partenaires
     * Forum
     * FranÃ§ais FranÃ§ais
          + English English

Les articles qui parlent nginx

   Vous cherchez un article autour de ce sujet ?
   Vous Ãªtes au bon endroit !
   ____________________ (BUTTON)
   Tous les articles

   Nginx est le principal concurrent dâ€™Apache, et un excellent serveur
   web. Vous verrez ici comment lâ€™installer et le configurer pour faire de
   votre systÃ¨me Raspbian et de votre Raspberry Pi un parfait petit
   serveur web, rapide et performant !
   [wordpress-raspberry-pi2-626x320.jpg] [svg%3E]

Installer WordPress sur une Raspberry Pi (avec Nginx).

   Par Raspberry Pi FR le 5 aoÃ»t 2015 - 76 commentaires

   Aujourdâ€™hui, nous allons vous parler de wordpress, le CMS le plus
   populaire du monde (sans parler du fait quâ€™il fait tourner Raspbian
   France) et voir comment lâ€™installer sur la Raspberry Pi. La
   compatibilitÃ© Raspberry / WordPress existe depuis le dÃ©but, nÃ©anmoins,
   les performances sur les premiÃ¨res Raspberry Pi nâ€™Ã©taient pas
   incroyables ! Aujourdâ€™hui, avec la [â€¦]
   Lire la suite de l'article
   [htaccess_nginx-600x352.jpg] [svg%3E]

Ã‰quivalent fichiers .htaccess pour Nginx

   Par Raspberry Pi FR le 28 mai 2014 - 2 commentaires

   Lors de notre prÃ©cÃ©dent article, nous vous parlions de lâ€™activation des
   fichiers .htaccess pour votre Raspberry Pi. Cependant, les fichiers
   htaccess sont une particularitÃ© dâ€™Apache, qui bien que trÃ¨s pratique,
   nâ€™est pas prÃ©sent sur tous les types de serveurs web, notamment les
   serveurs Nginx. Nous allons donc voir comment remplacer les fichiers
   .htaccess sous Nginx. [â€¦]
   Lire la suite de l'article
   [mariadb_raspbian.jpg] [svg%3E]

Installer MariaDB sur Raspbian

   Par Raspberry Pi FR le 2 mai 2014 - 18 commentaires

   Lors du dernier tutoriel, nous vous avions montrÃ© comment remplacer
   Apache par Nginx pour votre systÃ¨me Raspbian, afin dâ€™obtenir un serveur
   web plus rapide et moins consommateur de RAM. Aujourdâ€™hui, câ€™est pour
   une thÃ©matique proche que nous nous retrouvons, puisquâ€™il sâ€™agit de
   remplacer lâ€™ancien systÃ¨me de base de donnÃ©es MySQL par le systÃ¨me
   MariaDB pour [â€¦]
   Lire la suite de l'article
   [serveur_nginx-626x352.jpg] [svg%3E]

Installer Nginx Raspbian, et accÃ©lÃ©rez votre serveur web Raspberry

   Par Raspberry Pi FR le 21 avril 2014 - 57 commentaires

   Cela fait quelques temps que nous nâ€™avons pas Ã©crit de tutoriel. En
   effet, nous nous sommes octroyÃ© quelques jours de vacances, et nous
   voici aujourdâ€™hui de retour. Câ€™est donc ici un tutoriel venant
   complÃ©ter celui traitant de lâ€™installation dâ€™un serveur web sur la
   Raspberry. En effet, il sera ici question de lâ€™installation dâ€™un
   serveur web [â€¦]
   Lire la suite de l'article

   [logo-raspbian-gray-small.png] [svg%3E]
   Copyright Â© 2016 Raspberry Pi FR - Textes soumis au droit d'auteur
   Conditions GÃ©nÃ©rales d'Utilisation
   Raspberry Pi est une marque dÃ©posÃ©e de la Raspberry Pi Foundation
   GitHub Twitter RSS
    #Raspberry Pi FR Â» Installer Nginx Raspbian, et accÃ©lÃ©rez votre
   serveur web Raspberry Flux des commentaires alternate alternate

   IFRAME: https://www.googletagmanager.com/ns.html?id=GTM-KSNWSC

   Raspberry Pi FR Raspberry Pi FR Raspberry Pi FR
     * Accueil
     * Tutoriels
     * ActualitÃ©s
     * TÃ©lÃ©chargements
     * Contact
          + Publiez un article chez Raspbian France
          + Contactez nous
          + Nos partenaires
     * Forum
     * FranÃ§ais FranÃ§ais
          + English English

   ____________________ (BUTTON)
   ____________________ (BUTTON)
     * Accueil
     * Tutoriels
     * ActualitÃ©s
     * TÃ©lÃ©chargements
     * Contact
          + Publiez un article chez Raspbian France
          + Contactez nous
          + Nos partenaires
     * Forum
     * FranÃ§ais FranÃ§ais
          + English English

   Un serveur Nginx, une Raspberry, un Raspbian, une solution ! Un serveur
   Nginx, une Raspberry, un Raspbian, une solution !

Installer Nginx Raspbian, et accÃ©lÃ©rez votre serveur web Raspberry

   Mis Ã  jour le 22 mars 2018 - 57 Commentaires - Apache, Installation,
   Ligne de commande, Linux, Nginx, Planet-libre, tutoriels

   Cela fait quelques temps que nous nâ€™avons pas Ã©crit de tutoriel. En
   effet, nous nous sommes octroyÃ© quelques jours de vacances, et nous
   voici aujourdâ€™hui de retour.

   Câ€™est donc ici un tutoriel venant complÃ©ter celui traitant de
   lâ€™installation dâ€™un serveur web sur la Raspberry. En effet, il sera ici
   question de lâ€™installation dâ€™un serveur web autre quâ€™Apache, Ã  savoir
   Nginx.

Nginx câ€™est quoi ?

   Avant dâ€™installer Nginx, il convient de comprendre ce quâ€™est au juste
   Nginx.

   Nginx câ€™est un serveur web.

   Il permet donc Ã  un client dâ€™accÃ©der Ã  une ressource sur une machine
   distante, et Ã  cette machine de retourner la ressource adaptÃ©e au
   client. Il sâ€™agit dâ€™un logiciel libre, distribuÃ© sous licence BSD. Il a
   vu le jour en 2002, en Russie, mais ne câ€™est vraiment dÃ©veloppÃ© quâ€™Ã 
   partir de 2006, quand il a commencÃ© Ã  Ãªtre traduit du russe vers
   lâ€™anglais.
   Les parts de marchÃ© de Nginx monte rapidement Les parts de marchÃ© de
   Nginx monte rapidement

   Nginx monte rapidement, ici lâ€™Ã©volution des parts de marchÃ© des
   serveurs web en 2016 â€“ source : w3techs.com

   Nginx reprÃ©sente 20,4 % des serveurs. Câ€™est bien moins que son
   principal concurrent Apache, qui reprÃ©sente 60,6 % de parts de marchÃ©,
   mais câ€™est tout de mÃªme Ã©norme. Il occupe ainsi la deuxiÃ¨me place des
   serveurs (devant les boulets de chez Microsoft avec leurs 14,1%), ce
   qui est une performance dâ€™autant plus importante que le concurrent
   Apache occupe une place historique absolument Ã©norme, et est un acteur
   majeur, non seulement au-travers de son serveur, mais aussi au-travers
   de la licence Apache.

Mais pourquoi installer Nginx plutÃ´t quâ€™Apache ?

   Câ€™est bien sÃ»r la question la plus importante. Pourquoi choisir un
   serveur secondaire plutÃ´t que lâ€™acteur principal du marchÃ© ? La rÃ©ponse
   est simple, les performances !

   Nginx est un serveur dit Â« Asynchrone Â». Cela signifie quâ€™il peut
   exÃ©cuter plusieurs actions en mÃªme temps, sans attendre la fin de la
   premiÃ¨re pour passer Ã  la seconde. Ce nâ€™est pas le cas dâ€™Apache qui,
   sâ€™il permet plusieurs requÃªtes en mÃªme temps va alors lancer de
   nouveaux processus.

   En clair, cela signifie trois choses.

   PremiÃ¨rement, Nginx rÃ©pond beaucoup plus vite quâ€™Apache.

   DeuxiÃ¨mement, Nginx permet de supporter plus dâ€™utilisateurs
   simultanÃ©ment.

   TroisiÃ¨mement, Nginx consomme moins de RAM quâ€™Apache, ce qui est trÃ¨s
   important compte tenu du fait que la Raspberry, mÃªme dans son modÃ¨le 3,
   ne dispose que de 1024Mo de RAM non extensibles. Cela est dâ€™autant plus
   important dans le cadre du modÃ¨le B+ et de ses 512 Mo de RAM.

   Alors vous vous doutez bien que tout cela nâ€™est pas sans contrepartie.

   Nginx ne rÃ©agit pas toujours comme Apache2 avec PHP.

   Il nâ€™est pas aussi facile de tester Nginx quâ€™Apache sur une machine
   Windows.

   Enfin, Nginx ne supporte pas les fichiers .htaccess, que vous devrez
   convertir pour Nginx, et que vous ne mettrez pas dans un fichier dans
   le rÃ©pertoire cible, mais dans le fichier de configuration du site.

   Cependant, Nginx vaut vraiment le coup, et câ€™est sans doute un meilleur
   choix quâ€™Apache pour un serveur web sur la Raspberry.

DÃ©sactiver le serveur Apache

   Nous considÃ©rerons ici que vous avez dÃ©jÃ  suivi le tutoriel sur
   lâ€™installation dâ€™un serveur web Apache, avec PHP et MySQL. Par
   consÃ©quent nous ne rÃ©installerons pas les deux derniers, et nous
   dÃ©sactiverons le premier, sans toutefois le dÃ©sinstaller. Il sâ€™agira lÃ 
   de notre premiÃ¨re Ã©tape. Si vous nâ€™avez pas installÃ© de serveur Apache,
   vous pouvez passer cette premiÃ¨re Ã©tape.

   Tout dâ€™abord, il convient de dÃ©sactiver le serveur Apache actuellement
   en cours dâ€™exÃ©cution.

   Pour cela, il suffit dâ€™utiliser la commande suivante :
sudo /etc/init.d/apache2 stop

   Le serveur Apache2 ne tourne plus. Nous allons maintenant lâ€™empÃªcher de
   se lancer automatiquement au dÃ©marrage de Raspbian comme il le fait
   pour lâ€™instant.

Ne pas lancer Apache au dÃ©marrage

   Sur les derniÃ¨res versions de Debian (et donc Raspbian), systemd a pris
   le pas sur la mÃ©thode traditionnel de gestion des services.

   Nous allons donc dÃ©sactiver Apache au dÃ©marrage. Pour cela, il vous
   suffit de lancer la commande suivante :
sudo systemctl disable apache2

   Si vous le souhaitez, vous pouvez redÃ©marrer votre Raspberry Pi

Lancer automatiquement Apache au dÃ©marrage

   Il est possible que vous souhaitiez un jour rÃ©activer le dÃ©marrage
   automatique dâ€™Apache. Pour cela, vous devrez utiliser la mÃªme commande
   que pour le dÃ©sactiver, mais avec des arguments diffÃ©rents :
sudo systemctl enable apache2

   Cette fois lâ€™argument Â« enable Â» va demander au programme de lancer
   Apache2 au dÃ©marrage du serveur.

   Notez que vous ne pourrez pas (par dÃ©faut) faire cohabiter Apache et
   Nginx !

   Vous savez dÃ©sormais comment activer ou dÃ©sactiver le dÃ©marrage
   automatique dâ€™Apache et nous allons maintenant pouvoir installer Nginx.

Installer le serveur Nginx pour Raspbian

   Comme nous lâ€™avions fait pour Apache2, nous allons de nouveau utiliser
   le gestionnaire de paquet Â« aptitude Â» pour installer Nginx et php-fpm
   sur la Raspberry depuis les dÃ©pÃ´ts Raspbian.

   Pour cela, il vous suffit dâ€™utiliser la commande :
sudo apt install nginx php-fpm

   Par dÃ©faut, Nginx nâ€™est pas liÃ© Ã  PHP. Lors du dÃ©veloppement de Nginx,
   le choix a Ã©tÃ© fait dâ€™utiliser PHP-FMP (une version plus rapide de PHP)
   plutÃ´t quâ€™un PHP plus traditionnel. Par consÃ©quent, on va installer
   php-fpm pour gÃ©rer les fichiers PHP avec Nginx.


   Vous pouvez vÃ©rifier si votre serveur marche correctement de la mÃªme
   faÃ§on que pour vÃ©rifier si un serveur Apache fonctionne, câ€™est-Ã -dire
   en lanÃ§ant une requÃªte sur le port 80 de votre serveur. Vous obtiendrez
   alors une page marquÃ©e Â« Welcome to nginx! Â».

Configurer Nginx

   Maintenant que Nginx est bien installÃ©, il va falloir rajouter un tout
   petit peu de configuration. Nous nâ€™allons pas ici vous expliquer
   comment se configure un serveur Nginx, nous allons simplement modifier
   le dossier contenant vos sites, ajouter les pages index.php comme pages
   par dÃ©faut, et enfin ajouter PHP.

   Pour cela, Ã©ditez le fichier Â« /etc/nginx/sites-available/default Â»,
   par exemple via la commande :
sudo nano /etc/nginx/sites-available/default

   et cherchez la ligne
index index.html index.htm index.nginx-debian.html;


   pour la remplacer par la ligne
index index.html index.htm index.php;

   Cela va rajouter une redirection automatique vers les fichiers Â«
   index.php Â» pour les dossiers du site, comportement par dÃ©faut de
   Apache.

   Nous allons maintenant activer php-fpm pour Nginx. Pour cela, cherchez
   les lignes
 #location ~ \.php$ {
 # include snippets/fastcgi-php.conf;
 #
 # # With php5-cgi alone:
 # fastcgi_pass 127.0.0.1:9000;
 # # With php5-fpm:
 # fastcgi_pass unix:/var/run/php/php7.0-fpm.sock;
 #}


   et modifier les afin dâ€™obtenir le rÃ©sultat suivant :
 location ~ \.php$ {
 include snippets/fastcgi-php.conf;
 fastcgi_pass unix:/var/run/php/php7.0-fpm.sock;
 }


   Il ne nous reste plus quâ€™Ã  modifier les droits du dossier
   Â« /var/www/html Â» pour pouvoir gÃ©rer nos sites plus facilement. Pour
   cela, il vous suffit de lancer les commandes suivantes :


 sudo chown -R www-data:pi /var/www/html/
 sudo chmod -R 770 /var/www/html/


   Enfin, nous allons ajouter un fichier Â« index.php Â» pour vÃ©rifier que
   PHP fonctionne. Pour cela, lancez la commande suivante :
 echo "<?php phpinfo(); ?>" > /var/www/html/index.php


   Une fois tout ceci fait, vous devez redÃ©marrer Nginx, afin dâ€™appliquer
   les modifications, toujours avec la commande :
sudo /etc/init.d/nginx restart

   Vous nâ€™avez plus quâ€™Ã  vÃ©rifier le bon fonctionnement du serveur, comme
   prÃ©cÃ©demment. Vous devriez obtenir une page affichant les informations
   de PHP.

Erreur 403 forbidden, un classique de Nginx.

   Il est possible que vous obteniez une erreur Â« 403 forbidden Â». Cela
   peut signifier deux choses.
   Page d'erreur 403 d'un serveur Nginx Page d'erreur 403 d'un serveur
   Nginx

   Lâ€™erreur 403 est frÃ©quente avec Nginx, mais simple Ã  corriger.

   Tout dâ€™abord, cela peut signifier que Nginx ne trouve pas de fichier Ã 
   afficher, mais contrairement Ã  Apache, il ne va pas lister les fichiers
   du dossier. Pour tester cela, il vous suffit de crÃ©er un fichier
   index.html dans le rÃ©pertoire Â« /var/www Â», et de re-essayer dâ€™accÃ©der
   Ã  votre site. Par exemple via la commande :
echo 'Nginx marche !' > /var/www/html/index.html

   Si le problÃ¨me venait bien de lÃ , vous devriez obtenir une page marquÃ©e
   Â« Nginx marche ! Â« . Ã€ vous maintenant de mettre un fichier dâ€™index qui
   vous convienne.

   En revanche, si cela ne rÃ©sout pas le problÃ¨me, alors le problÃ¨me est
   probablement que Nginx ne peut accÃ©der au rÃ©pertoire Â« /var/www/html Â».
   Dans ce cas, il faut donner le rÃ©pertoire Ã  Â« www-data Â», avec les
   autorisations suffisantes.

   Pour cela, utilisez les deux lignes suivantes :
 chown www-data:www-data /var/www
 chmod 744 /var/www


Conclusion

   VoilÃ , Nginx est installÃ© sur la Raspberry, et votre serveur web
   Raspbian devrait tourner encore plus vite quâ€™avant !

   Et si ce nâ€™est pas suffisant, vous pouvez par exemple installer un
   cache php. Nous ferons peut-Ãªtre un tutoriel dessus dans quelques temps
   ;).

   Et dans tous les cas, vous pouvez toujours allez faire un tour ici, et
   vous trouverez peut-Ãªtre de nouvelles idÃ©es dâ€™utilisations de votre
   Raspberry.
   Partager
   Newsletter
   [favicon.png] [svg%3E]
   Auteur :
   Raspberry Pi FR
   DÃ©buter avec la raspberry pi
   Le livre pour dÃ©buter
   [book-fr.png] [svg%3E] Lire le livre
   La formation vidÃ©o
   [elephorm-fr.png] [svg%3E] Suivre la formation
   Nos partenaires
   [amazon-fr.png] [svg%3E] Visiter Amazon
   [kubii-fr.png] [svg%3E] Visiter Kubii
   [ipvanish-fr.png] [svg%3E] Visiter IPVanish
   Les indispensables
   La nouvelle Raspberry Pi 4
   [raspberry-pi-4-fr.jpg] [svg%3E] Voir la Raspberry Pi 4
   Raspberry Pi 3B+
   [raspberry-pi-3-fr.png] [svg%3E] Voir la Raspberry Pi 3B+
   Alimentation 5v 3A
   [power-supply-fr.png] [svg%3E] Voir l'alimentation
   Carte MicroSD
   [microsd-fr.png] [svg%3E] Voir la carte MicroSD
   BoÃ®tier de protection
   [case-fr.png] [svg%3E] Voir le boÃ®tier
   Mini clavier sans fil
   [keyboard-fr.png] [svg%3E] Voir le clavier
   Rejoignez la communautÃ© Raspberry Pi
   Un ordinateur Ã  35â‚¬ dÃ©jÃ  vendu Ã  10 millions d'exemplaires
   ACHETEZ LA RASPBERRY PI 3 ACHETEZ LA NOUVELLE RASPBERRY PI 4
   Tutoriels en rapport
   Installer un media-center avec OSMC sur votre Raspberry Pi ! RaspiSMS
   2.0, envoyer des SMS par internet avec la Raspberry Pi Bien choisir vos
   accessoires pour les Raspberry Pi 3 et 2 Envoyer, gÃ©rer et recevoir des
   SMS avec la Raspberry Pi Installer un serveur web sur votre Raspberry
   (Apache + PHP + MySQL)
   57 commentaires
   Besoin d'aide ? Vous la trouverez plus vite sur notre forum.

Annuler la rÃ©ponse


   ____________________________________________________________
   ____________________________________________________________
   ____________________________________________________________
   ____________________________________________________________

   ____________________

   ____________________

   ____________________

   Laisser un commentaire

Navigation dans les commentaires

   Commentaires plus rÃ©cents
    1. Christophe dit :
       6 fÃ©vrier 2017 Ã  15 h 24 min
       Bonjour !
       Dâ€™abord, je me joins aux nombreux commentaires de fÃ©licitations :
       continuez ainsi !
       Je bloque cependant sur ma config que jâ€™ai mise en place Ã  partir
       de ce tuto, mais en choisissant dâ€™utiliser des versions plus
       rÃ©centes : nginx 10.2 et php7.0 qui semble offrir des rÃ©sultats
       plus rapides.
       Alors que php7 semble bien installÃ© (jâ€™ai bien une rÃ©ponse Ã  la
       commande Â« php â€“version Â») et nginx Ã©galement (jâ€™arrive bien Ã 
       afficher les fichiers html, notamment le Â« Welcome to nginx on
       Debian! Â»), le fichier index.php me renvoie lâ€™erreur Â« File not
       Found. Â»
       Mon fichier default :
       server {
       listen 80 default_server;
       listen [::]:80 default_server;
       root /var/www/html;
       index index.php index.html index.htm;
       server_name _;
       location / {
       try_files $uri $uri/ =404;
       }
       location ~ \.php$ {
       include snippets/fastcgi-php.conf;
       fastcgi_pass unix:/var/run/php/php7.0-fpm.sock;
       # # With php-cgi (or other tcp sockets):
       #fastcgi_pass 127.0.0.1:9000;
       }
       }
       Jâ€™ai dÃ©jÃ  bidouillÃ© pas mal le fichier default de nginx, sans
       succÃ¨s.
       Y aurait-il une Ã©tape qui mâ€™aurait Ã©chappÃ©e ?
       Merci dâ€™avance !
       RÃ©pondre
    2. Tafsir dit :
       18 janvier 2017 Ã  18 h 06 min
       Bonjour
       Pour ma part jâ€™utilise un site en local sous mon Raspberry pi 2
       avec le serveur nginx. Jâ€™ai constatÃ© quâ€™aprÃ¨s avoir mise a jour
       Raspbian pour pouvoir utiliser sur un Raspberry pi 3, mon site
       nâ€™est plus accessible et jâ€™ai une erreur Â« 502 Bad Gateway Nginx
       1.2.1 Â»
       Quelquâ€™un a une astuce sur la marche a suivre
       Merci dâ€™avance.
       RÃ©pondre
    3. Marco dit :
       22 juin 2016 Ã  20 h 39 min
       Help !
       Bonjour,
       AprÃ¨s avoir passÃ© lâ€™Ã©tape de la modification suivante :
       #location ~ \.php$ {
       # include snippets/fastcgi-php.conf;
       #
       # # With php5-cgi alone:
       # fastcgi_pass 127.0.0.1:9000;
       # # With php5-fpm:
       # fastcgi_pass unix:/var/run/php5-fpm.sock;
       #}
       En
       location ~ \.php$ {
       include snippets/fastcgi-php.conf;
       fastcgi_pass unix:/var/run/php5-fpm.sock;
       }
       Impossible de sauvegarder les modifications (il semblerait que le
       fichier soit en lecture seule) â€¦ Que dois-je faire pour pouvoir
       sauvegarder les modifications faites et ainsi passer Ã  lâ€™Ã©tape
       suivante (qui est de taper les commandes sudo chown -R www-data:pi
       /var/www/html/
       sudo chmod -R 770 /var/www/html/) ?!
       Merci dâ€™avance pour votre aide !!!
       RÃ©pondre
         1. Raspbian France dit :
            24 juin 2016 Ã  15 h 22 min
            Bonjour,
            Tu dois simplement avoir les droits root pour effectuer cette
            opÃ©ration. Pour cela lance la commande :
            nano /etc/nginx/sites-available/default
            RÃ©pondre
              1. Julien Vankrinkelen dit :
                 4 dÃ©cembre 2016 Ã  22 h 16 min
                 Bonjour ! tout dâ€™abord jâ€™adore ce que vous faites, merci
                 pour ce superbe tuto, mais je suis dans la mÃªme situation
                 que Marco: aprÃ¨s avoir remplacer les quelques lignes par
                 les autres, câ€™est Ã  dire celles-lÃ :
                 -location ~ \.php$ {
                 include snippets/fastcgi-php.conf;
                 fastcgi_pass unix:/var/run/php5-fpm.sock;
                 }
                 -index index.html index.htm index.php;
                 je ne sais pas comment les enregistrer et ainsi mÃªme
                 quitter cette fenÃªtre, pourtant jâ€™ai bien rentrÃ© cette
                 ligne:
                 nano /etc/nginx/sites-available/default
                 (je suis dÃ©butant en raspberry, je ne mâ€™y connais pas du
                 tout). Donc si vous pouviez mâ€™indiquer comment
                 enregistrer puis quitter cette fenÃªtre pour rentrer les
                 lignes de codes suivantes du tutoriel, je vous remercie
                 dâ€™avance.
                 RÃ©pondre
                   1. Raspbian France dit :
                      8 dÃ©cembre 2016 Ã  15 h 17 min
                      Bonjour,
                      Pour enregistrer un fichier avec nano, câ€™est Â« ctrl
                      gauche + O Â», nano va te demander le nom du fichier,
                      presse entrer pour le valider
                      Et pour quitter le fichier, câ€™est Â« ctrl + X Â». : )
                      Bonne continuation,
                      RF
                      RÃ©pondre
    4. EvergreenGOD dit :
       24 avril 2016 Ã  14 h 46 min
       Bonjour Ã  tous!
       Jâ€™ai un problÃ¨me lorsque je fais la commande sudo /etc/init.d/nginx
       restart..
       La console mâ€™affiche :
       [â€¦.] estarting nginx (via systemctl) : nginx.serviceJob for
       nginx.service failed. See â€˜systemctl status nginx.serviceâ€™ and
       â€˜journalctl -xnâ€™ for details.
       failed!
       Jâ€™ai donc exÃ©cutÃ© ces deux lignes de commandes.
       â€˜systemctl status nginx.serviceâ€™ me donne (le point devant
       nginx.service est rouge) :
       â€¢ nginx.service â€“ A high performance web server and a reverse proxy
       server
       Loaded ; loaded (/lib/systemd/nginx.service; enabled)
       Active : failed (Result: exit-code) since dim. 2016-04-24 12:38:56
       UTC; 28s ago
       Process: 1815 ExecStartPre=/usr/sbin/nginx -t -q -g daemon on;
       master_process on; (code=exited, status=1 / FAILURE)
       â€˜journalctl -xnâ€™ quant Ã  lui me donne :
       Nor journal files were found
       Est-ce que vous connaissez ce problÃ¨me? Si oui, comment le rÃ©soudre
       svp?
       En attendant, je rÃ©active Apache2 ðŸ˜‰
       RÃ©pondre
         1. EvergreenGOD dit :
            24 avril 2016 Ã  20 h 05 min
            Jâ€™ai rÃ©initialisÃ© mon Raspberry et rÃ©installÃ© NGinx sans
            passer par Apache au prÃ©alable, aucun problÃ¨me ce coup-ci.
            Jâ€™avais dÃ» faire une erreur lors de lâ€™installation au premier
            essai ðŸ˜‰
            Merci pour vos tutos, ils sont carrÃ©ment plus que pratique
            RÃ©pondre
         2. Raspbian France dit :
            16 mai 2016 Ã  19 h 22 min
            DÃ©solÃ©, mais lÃ  pour le coup les logs ne sont pas trÃ¨s
            parlants :/
            Nous ne pouvons pas trop tâ€™aider, il va falloir que tu trouves
            tout seul, sorry !
            RÃ©pondre
    5. admin dit :
       10 mars 2016 Ã  14 h 18 min
       Le premier pour mon blog autohÃ©bergÃ©, le second pour tous mes
       services perso (wallabag, etc etc)
       Justement, je suis en train dâ€™installer un etherpad. Celui-ci
       fonctionne correctement sous 192.168.x.x:9001
       Je ne veux pas rediriger le port 9001 de ma box vers mon RPI et je
       souhaite donc rediriger les requÃªtes du port 80 vers un
       Â« sous-dossier Â» vers la bonne adressr sur le port diffÃ©rent. En
       thÃ©orie, Ã§a me semble trÃ¨s facile Ã  lire les doc que je trouve sur
       le net maisâ€¦ jâ€™y arrive pas !
       Suivi un tuto assez simple sur le net, jâ€™ai crÃ©Ã© dans
       /etc/nginx/conf.d/proxy.conf contenant :
       proxy_redirect off; (pourquoi off?!?)
       proxy_set_header Host $host;
       proxy_set_header X-Real-IP $remote_addr;
       proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
       client_max_body_size 10m;
       client_body_buffer_size 128k;
       client_header_buffer_size 64k;
       proxy_connect_timeout 90;
       proxy_send_timeout 90;
       proxy_read_timeout 90;
       proxy_buffer_size 16k;
       proxy_buffers 32 16k;
       proxy_busy_buffers_size 64k;
       Et dans le fichier /etc/nginx/sites-available/monsite (jâ€™ai ajoutÃ©
       le premier Â« location Â», le reste fonctionnait nickel avant cet
       essai, et continue dâ€™ailleurs, pour mes autres services qui sont
       tous hÃ©bergÃ©s dans un sous-rÃ©pertoire, donc simple)
       server {
       listen 80;
       server_name www.monsite.net monsite.net;
       root /var/www/html;
       index index index.php index.html index.htm;
       if (!-e $request_filename) {
       rewrite ^/(.+)$ /index.php?url=$1 last;
       break;
       }
       location = /pad { // <â€“ j'ai aussi essayÃ© : location = pad {
       proxy_pass http://127.0.0.1:9001;
       }
       location ~ .php$ {
       try_files $uri =404;
       fastcgi_pass unix:/var/run/php5-fpm.sock;
       fastcgi_index index.php;
       include /etc/nginx/fastcgi.conf;
       }
       }
       Il doit y avoir un truc tout con que je ne pige pasâ€¦
       Une idÃ©e? Merci beaucoup d'avance !
       RÃ©pondre
         1. Raspbian France dit :
            10 mars 2016 Ã  17 h 01 min
            Salut,
            nous nâ€™avons jamais eu lâ€™occasion dâ€™essayer ce cas, quelquâ€™un
            Ã  une idÃ©e ?
            RÃ©pondre
    6. Louis dit :
       2 mars 2016 Ã  19 h 20 min
       Bonjour,
       Merci pour ce super tuto.
       Jâ€™ai rÃ©cupÃ©rÃ© un site wordpress auparavant hÃ©bergÃ© par ovh et lâ€™ai
       migrÃ© sur mon raspberry avec nginx.
       Celui-ci est bien accessible en local mais pas en distant (jâ€™ai
       bien configurÃ© le NAT de ma box) : jâ€™obtiens un â€˜access deniedâ€™ Ã 
       la racine et une 404 gÃ©nÃ©rÃ©e par nginx lorsque jâ€™appelle une autre
       page.
       Je ne trouve pas dâ€™Ã©quivalent Ã  mon problÃ¨me sur internet, et ne
       comprends pas pourquoi le comportement est diffÃ©rent en local et en
       distant.
       Merci dâ€™avance pour votre aide
       RÃ©pondre
         1. Raspbian France dit :
            10 mars 2016 Ã  16 h 02 min
            Salut,
            le problÃ¨me ne viendrait-il pas du fait que tu as installÃ©
            WordPress depuis ton rÃ©seau locale et que lâ€™URL enregistrÃ© par
            WordPress en base de donnÃ©es ne correspond pas Ã  lâ€™URL
            publique ?
            Il ne devrait pas y avoir de diffÃ©rence entre lâ€™accÃ¨s local et
            distant !
            AprÃ¨s, si tu essayes dâ€™appeler une URL noip depuis ton rÃ©seau
            local, tu ne pourras pas y accÃ©der. En revanche, si tu est
            depuis un rÃ©seau externe (smartphone en 3G par exemple), tu
            devrais y accÃ©der sans problÃ¨mes !
            RÃ©pondre
    7. Ã©ric dit :
       30 janvier 2016 Ã  12 h 12 min
       Bonjour, nouveau avec la raspberry pi 2 jâ€™essai dâ€™installer en
       local un site sous joomla.
       En suivant votre tuto la derniÃ¨re version tÃ©lÃ©chargÃ©e de NGINX
       semble avoir modifiÃ© quelque peu le ficher Â« default Â» situÃ© dans :
       /etc/nginx/sites-available (comme le signal plus haut Florian
       Rolland).
       aprÃ¨s avoir Â« dÃ©bloquÃ© les droits Â» pour pouvoir modifier le
       fichier Â« default Â» avec la ligne :
       sudo chown -R pi:www-data /etc/nginx/sites-available
       voici les contenus du fichier Â« default Â» :
       a â€“ dans votre tuto vous dites : et cherchez les lignes
       1 root /usr/share/nginx/www;
       2 index index.html index.htm;
       pour les remplacer par les lignes
       1 root /var/www;
       2 index index.html index.htm index.php;
       or voici ce que jâ€™ai dans mon fichier Â« default Â» qui ressemble le
       plus ! :
       1 root /var/www/html;
       2 # Add index.php to the list if you are using PHP
       index index.html index.htm index.nginx-debian.html;
       â€”-Merci de mâ€™indiquer les modis Ã  faire pour ces 2 lignesâ€”-
       b â€“ par la suite vous dites :
       Nous allons maintenant activer php-fpm pour Nginx.
       â€¦
       et dÃ©commentez les lignes nÃ©cessaires, afin dâ€™obtenir le rÃ©sultat
       suivant :
       â€¦
       voici ce que jâ€™ai :
       #location ~ \.php$ {
       # include snippets/fastcgi-php.conf;
       #
       # # With php5-cgi alone:
       # fastcgi_pass 127.0.0.1:9000;
       # # With php5-fpm:
       # fastcgi_pass unix:/var/run/php5-fpm.sock;
       #}
       â€”-Merci de mâ€™indiquer les lignes Ã  dÃ©commenterâ€”-
       merci dâ€™avance,
       salsaplus
       RÃ©pondre
         1. Raspbian France dit :
            8 fÃ©vrier 2016 Ã  11 h 55 min
            Salut,
            pour Â« /var/wwww/html Â», tu peux laisser comme tel, il faudra
            donc que tu mettes tes sites dans ce dossier.
            Pour les index, il faut simplement ajouter Â« index.php Â» avant
            le point virgule.
            Pour la partie activation de php, dÃ©commente la ligne
            Â« location Â», la ligne en dessous et les deux derniÃ¨res
            lignes.
            RÃ©pondre
    8. Florian Rolland dit :
       5 janvier 2016 Ã  20 h 00 min
       Bonsoir,
       En voulant paramÃ©trÃ© Nginx pour le php, jâ€™obtiens rien dâ€™identique
       :
       #location ~ \.php$ {
       # include snippets/fastcgi-php.conf;
       #
       # # With php5-cgi alone:
       # fastcgi_pass 127.0.0.1:9000;
       # # With php5-fpm:
       # fastcgi_pass unix:/var/run/php5-fpm.sock;
       #}
       Je prend quand mÃªme le contenue de celui du tuto ?
       RÃ©pondre
         1. Florian Rolland dit :
            5 janvier 2016 Ã  21 h 06 min
            Edit: ProblÃ¨me resolue
            RÃ©pondre
              1. Raspbian France dit :
                 12 janvier 2016 Ã  18 h 16 min
                 Ok, super !
                 RÃ©pondre
         2. Raspbian France dit :
            12 janvier 2016 Ã  18 h 13 min
            Salut,
            tu peux nous donner ce que tu as ?
            RÃ©pondre
         3. Don Peco dit :
            2 fÃ©vrier 2016 Ã  16 h 12 min
            Bonjour, merci pour le tuto, effectivement!
            Je reviens sur le com de Florian Rolland, je viens de me
            lancer dans lâ€™aventure, et je nâ€™ai pas du tout le mÃªme contenu
            dans le fichier /etc/nginx/sites-available/default
            Et donc, je voulais savoir Ã©galement si câ€™est une histoire de
            mise Ã  jour, et comment gÃ©rer Ã§a. Perso, jâ€™ai des bases en
            info, mais elles prennent rÃ©guliÃ¨rement la poussiÃ¨re :p Vous
            me conseillerez Apache aussi?
            Merci
            RÃ©pondre
    9. numa dit :
       4 dÃ©cembre 2015 Ã  22 h 57 min
       Bonjour,
       Je vous invite Ã  lire ce lien concernant lâ€™activation de php-fpm :
       http://www.pedaldrivenprogramming.com/2015/04/upgrading-wheezy-to-j
       essie:-nginx-and-php-fpm/
       Pour faire court, si vous obtenez une page blanche lorsque vous
       tentez dâ€™accÃ©der Ã  votre index.php, il faut modifier votre
       /etc/nginx/sites-available/default en remplaÃ§ant :
       include fastcgi_params
       par :
       include fastcgi.conf
       Personnellement je nâ€™ai pas rencontrÃ© le problÃ¨me sur les wheezy
       Â« dist-upgradÃ© Â» en jessie (debian 7.8) mais jâ€™ai dÃ» faire la modif
       sur mes Pi natifs en 2015-11-21-raspbian-Jessie (debian 8.0).
       RÃ©pondre
   10. Phil dit :
       27 septembre 2015 Ã  13 h 47 min
       Bonjour,
       la version proposÃ©e par Raspbian est la 1.2 alors que sur le site
       de Nginx on prÃ©sente une 1.8 stable.
       Jâ€™ai essayÃ© beaucoup de tutoriels sensÃ©s proposer une version plus
       rÃ©cente, mais sans succÃ¨s.
       Auriez-vous une idÃ©e ?
       Merci.
       RÃ©pondre
         1. Raspbian France dit :
            23 octobre 2015 Ã  23 h 11 min
            Bonjour,
            avec la derniÃ¨re version de Raspbian, le problÃ¨me est-il
            toujours prÃ©sent ?
            RÃ©pondre
   11. PAQUELIER dit :
       27 avril 2015 Ã  16 h 27 min
       merci je crois avoir compris
       alain
       RÃ©pondre
   12. PAQUELIER dit :
       27 avril 2015 Ã  14 h 57 min
       1Â° mÃ©decin Ã  la recherche dâ€™une sÃ©curitÃ© sur certains dossiers
       mÃ©dicaux jâ€™avais retrouvÃ© une tour ancienne sur laquelle je me suis
       installÃ© un Â»cloud  Â» (owncloud sous ubuntu)ssh.le ventilateur
       commence a Ãªtre Ã  faire beaucoup de bruit aprÃ¨s 15 ans de loyaux
       service.
       jâ€™ai achetÃ© un raspburryPI2 et je comptais transfÃ©rer mon owncloud
       auquel je suis habituÃ© (graphisme) Ã  la lecture il semblerait
       Â« mieux Â» de passer Ã  Â« ngnix Â».
       Pourrais-je alimenter mon serveur automatique a partir de mon
       laptop lorsque je suis aux us autrement dit y a il un  Â» ngnix
       client Â» a charger sur mon laptop?
       Sur le serveur ngnix pourrais-je accueillir comme sous Â« owncloud
       Â» un autre client (confrÃ¨re)?
       RÃ©pondre
         1. Raspbian France dit :
            27 avril 2015 Ã  15 h 42 min
            Salut,
            en fait Nginx sert de base Ã  Owncloud. En gros Owncloud viens
            poser une couche supplÃ©mentaire, et câ€™est lui qui va gÃ©rer
            toute la partie Â« cloud Â».
            Nginx permet juste Ã  ton navigateur internet et au serveur de
            discuter entre eux.
            Si tu nâ€™es pas trÃ¨s Ã  lâ€™aise avec lâ€™informatique, je te
            conseil plutÃ´t dâ€™installer Apache que Nginx (un tutoriel est
            disponible sur notre site), celui-ci Ã©tant plus simple Ã 
            mettre en place et Ã  configurer.
            RÃ©pondre
   13. Qwaser dit :
       15 fÃ©vrier 2015 Ã  3 h 35 min
       Jâ€™aurai une question, je compte avoir deux sites web sur mon
       Raspberry Pi 2, est-il possible de faire tourner le site (ou plutÃ´t
       la page web) statique sous Nginx et le site dynamique (PHP + Base
       de donnÃ©e) sous Apache ?
       En tout cas merci pour vos tutoriels qui me sont dâ€™une aide
       prÃ©cieuse pour apprendre Ã  maÃ®triser mon Raspberry ðŸ™‚
       RÃ©pondre
         1. Raspbian France dit :
            17 fÃ©vrier 2015 Ã  10 h 06 min
            Bonjour,
            oui cela est possible, il faudra cependant que tu dÃ©finisse
            les pots dâ€™Ã©coute des deux serveur sur deux ports diffÃ©rents.
            Sinon, tu dois pouvoir y arriver avec des Â« virtual host Â».
            Mais pourquoi souhaite tu mettre un site statique sous Nginx
            et un autre sous Apache ? Pourquoi ne pas tout mettre sous
            Nginx ?
            RÃ©pondre
              1. Qwaser dit :
                 26 fÃ©vrier 2015 Ã  12 h 55 min
                 Merci de votre rÃ©ponse ðŸ™‚
                 Je demandais cela car jâ€™avais lu quâ€™Nginx Ã©tait plus
                 adaptÃ© au site statique alors quâ€™Apache Ã©tait plus
                 conseillÃ© pour les sites dynamique ^^
                 Mais du coup je vais tout passer sur Nginx et ajoutant
                 PHP, MySQL et PHPMyAdmin ðŸ˜€
                 RÃ©pondre
                   1. Raspbian France dit :
                      3 mars 2015 Ã  9 h 33 min
                      Ok, je pense que câ€™est effectivement la bonne
                      solution.
                      Nginx est tout Ã  fait adaptÃ© Ã  un site dynamique,
                      seul point noir peut-Ãªtre, le fait que sa mise en
                      place en terme de configuration soit souvent un
                      petit peu plus complexe.
                      RÃ©pondre
   14. Epoc dit :
       16 janvier 2015 Ã  15 h 22 min
       Hello,
       Vers la fin de lâ€™article, il y a Ã©crit :
       Â« Et si ce nâ€™est pas suffisant, vous pouvez installer un cache php,
       **ou encore un php5-fpm**. Nous ferons peut-Ãªtre un tutoriel dessus
       dans quelques temps ;). Â»
       Je pense que câ€™est une petite coquille ðŸ™‚
       RÃ©pondre
         1. Raspbian France dit :
            17 janvier 2015 Ã  13 h 15 min
            Salut,
            merci pour lâ€™info, câ€™est corrigÃ© ðŸ™‚
            Câ€™Ã©tait effectivement une petite erreur de notre part lors de
            lâ€™Ã©criture du tutoriel.
            RÃ©pondre
   15. cybR dit :
       10 dÃ©cembre 2014 Ã  2 h 54 min
       Impeccable pour moi en tout cas, mais je me pose tout de mÃªme une
       question :
       pour accÃ©der a phpinfo(); il me faut entrer
       â€˜http://192.168.x.x/index.phpâ€™ ,
       est-ce normal ?
       tuto excellent qui va surement me rendre heureux â€¦.
       RÃ©pondre
         1. Raspbian France dit :
            17 dÃ©cembre 2014 Ã  11 h 29 min
            Salut,
            as-tu bien une ligne fastcgi_index index.php; dans ton fichier
            de configuration Nginx ?
            Si ce nâ€™est pas le cas, rajoute lÃ  et redÃ©marre Nginx.
            Ã‡a devrait permettre dâ€™utiliser la page Â« index.php Â» par
            dÃ©faut, et tu nâ€™aurais donc plus quâ€™Ã  aller sur
            Â« http://192.168.x.x/ Â».
            RÃ©pondre
   16. JPhi dit :
       8 dÃ©cembre 2014 Ã  22 h 47 min
       merci Gorhyan !!
       grÃ¢ce aux commentaires jâ€™ai pu complÃ©ter lâ€™installation ! ðŸ˜‰ ðŸ™‚
       maintenant je passe Ã  PHPMyAdmin
       RÃ©pondre
   17. ThÃ©o Fleury dit :
       4 octobre 2014 Ã  17 h 12 min
       TrÃ¨s bon article,
       Cependant un faute câ€™est glissÃ© dedans :
       Â« Cependant, Nginx **vos** vraiment le coup, et câ€™est sans doute un
       meilleur choix quâ€™Apache pour un serveur web sur la Raspberry. Â»
       ** vos = vaut **
       Cdt
       RÃ©pondre
         1. Raspbian France dit :
            17 dÃ©cembre 2014 Ã  13 h 55 min
            Merci, nous avons corrigÃ©.
            RÃ©pondre
   18. JF dit :
       3 septembre 2014 Ã  13 h 03 min
       Bonjour,
       Je voulais savoir ce qui vous a emmener Ã  faire un tuto sur Nginx
       plutÃ´t que lighthttpd ?
       Merci et bonne journÃ©e ðŸ™‚
       RÃ©pondre
         1. Raspbian France dit :
            17 dÃ©cembre 2014 Ã  14 h 11 min
            Bonjour,
            nous avons choisi Nginx parce-quâ€™il fait une rÃ©elle percÃ©e en
            ce moment, et quâ€™il est de plus en plus utilisÃ© en entreprise.
            De plus, Nginx semble montrer une stabilitÃ© en terme de
            consommation de ressource et des performances en terme de
            requÃªtes par seconde, qui sont lÃ©gÃ¨rement au dessus de celles
            de Lighthttpd.
            NÃ©anmoins, nous rÃ©flÃ©chirons Ã  faire un tutoriel sur
            Lighthttpd.
            RÃ©pondre
   19. Gorhyan dit :
       31 juillet 2014 Ã  20 h 05 min
       Je continu mon petit monologue de questions reponses, mais jâ€™ais
       rÃ©ussis Ã  mâ€™en sortir aprÃ¨s de nombreux bidouillage.
       Tout dâ€™abord crÃ©ation du var/www:
       mkdir /var/www
       chown -R www-data:www-data /var/www
       Ensuite dans Â« /etc/nginx/sites-available/default Â» jâ€™ai dÃ©commentÃ©
       la ligne server tout en haut, lâ€™Ã©coute sur le port 80, et une ligne
       qui parle de lâ€™index.html (je ne suis pas sur que tout soit utile,
       mais aprÃ©s de nombreux essais cela marche enfin). Voici ce que cela
       me donne (je ne tape que les lignes modifiÃ©es):
       server {
       listen 80;
       root /var/www;
       index index.php index.html index.htm;
       location / {
       try_files $uri $uri/ /index.html;
       }
       location ~ \.php$ {
       fastcgi_split_path_info ^(.+\.php)(/.+)$;
       fastcgi_pass unix:/var/run/php5-fpm.sock;
       fastcgi_index index.php;
       include fastcgi_params;
       }
       RÃ©pondre
   20. Gorhyan dit :
       31 juillet 2014 Ã  18 h 11 min
       Bonjour, encore moiâ€¦
       Jâ€™ai bien suivis le tuto, quand je lance une requÃªte depuis la rasp
       jâ€™obtiens le message Â« Welcome to nginx! Â».
       Par contre si jâ€™essaye Â« echo â€˜Nginx marche !â€™ >
       /var/www/index.html Â» la jâ€™obtient: Â« aucun fichier ou dossier de
       ce type Â». Que faire?
       RÃ©pondre
   21. Gorhyan dit :
       23 juillet 2014 Ã  1 h 29 min
       Bonjour,
       Tout dâ€™abord bravo pour votre site et ces tutos clairs.
       Je me permet se message car je souhaiterai me monter un serveur de
       stockage afin de partager des donnÃ©s avec mes proches (qui habitent
       loin). Pour cela jâ€™ai enfin franchis le pas en commandant une belle
       framboise qui me fais de lâ€™Å“il depuis pas mal de temps (jâ€™attends
       avec impatience un B+).
       Nâ€™y connaissant rien en serveur, je me posai la question suivante:
       vos tutos portent sur lâ€™installation dâ€™un serveur web. Est ce que
       cela fonctionne tout pareil auquel cas jâ€™installe les mÃªme
       logiciels, ou y Ã  tâ€™il des diffÃ©rences?
       Merci dâ€™avance.
       RÃ©pondre
         1. Gorhyan dit :
            29 juillet 2014 Ã  19 h 35 min
            en fait pas besoin de rÃ©pondre je me rend comte de lâ€™Ã©norme
            bÃªtise de ma question. jâ€™heberge ce que je veux sur le serveur
            (autant site web que des fichiers)
            RÃ©pondre
              1. Raspbian France dit :
                 30 juillet 2014 Ã  19 h 00 min
                 Pas de problÃ¨me, la question est loin dâ€™Ãªtre idiote. Tu
                 peux effectivement monter un serveur web et herbergÃ© tes
                 fichiers dessus, mais tu peux aussi avoir intÃ©ret Ã 
                 monter plutÃ´t un serveur ftp.
                 Nous nâ€™avons pas encore fait de tutoriels sur le sujet,
                 car nous nâ€™utilisons nous-mÃªme que rarement de tels
                 serveurs, cependant nous prendront prochainement le temps
                 de faire un tutoriel dessus.
                 RÃ©pondre
   22. Arthurius dit :
       22 juillet 2014 Ã  14 h 29 min
       Merci pour ce tuto, vraiment trÃ¨s utile. Je viens dâ€™effectuer ma
       migration de apache Ã  Nginx et le rÃ©sultat est vraiment FLAGRANT !
       Nginx est vraiment beaucoup plus rapide, merci =)
       RÃ©pondre
         1. Raspbian France dit :
            22 juillet 2014 Ã  16 h 37 min
            Ravi de tâ€™avoir aidÃ©, si tu as un site, nâ€™hÃ©site pas Ã  mettre
            un lien pour faire connaitre Raspbian France.
            RÃ©pondre
   23. PatBriPerso dit :
       19 juin 2014 Ã  22 h 30 min
       Il manque, de mon point de vue, une chose Ã  ce tuto pourtant dÃ©jÃ 
       trÃ¨s fourni : la configuration de phpmyadmin avec nginx.
       En suivant votre tuto sur lâ€™installation de Apache/PHP/MySQL,
       jâ€™avais Ã©galement installÃ© phpmyadmin. Mais en installant nginx (et
       donc en arrÃªtant apache), phpmyadmin ne rÃ©pond plus.
       Je suppose quâ€™il est possible de le reconfigurer avec nginx mais
       comment procÃ©der ?
       Je vais chercher dans la doc de nginx ðŸ˜‰
       RÃ©pondre
         1. PatBriPerso dit :
            19 juin 2014 Ã  23 h 23 min
            Jâ€™ai trouvÃ© un exemple de configuration pour phpmyadmin ici :
            http://www.howtoforge.com/running-phpmyadmin-on-nginx-lemp-on-
            debian-squeeze-ubuntu-11.04
            Je lâ€™ai adaptÃ© (en remplaÃ§ant les lignes concernant fastcgi)
            et voilÃ  ce que cela donne :
            location /phpmyadmin {
            root /usr/share/;
            index index.php index.html index.htm;
            location ~ ^/phpmyadmin/(.+\.php)$ {
            try_files $uri =404;
            root /usr/share/;
            fastcgi_split_path_info ^(.+\.php)(/.+)$;
            fastcgi_pass unix:/var/run/php5-fpm.sock;
            fastcgi_index index.php;
            include fastcgi_params;
            }
            location ~*
            ^/phpmyadmin/(.+\.(jpg|jpeg|gif|css|png|js|ico|html|xml|txt))$
            {
            root /usr/share/;
            }
            }
            Jâ€™ai collÃ© ce texte juste aprÃ¨s
            location / {
            â€¦
            }
            Jâ€™ai enregistrÃ© le fichier puis redÃ©marrÃ© nginx et phpmyadmin
            fonctionne (en tout cas je peux me connecter et voir les
            bases).
            RÃ©pondre
              1. raspbian-france dit :
                 20 juin 2014 Ã  15 h 24 min
                 Effectivement, nous nâ€™avions pas pensÃ© Ã  PHPMyAdmin,
                 ayant plutÃ´t tendance Ã  employer la ligne de commande
                 MySQL sur le serveur exÃ©cutant Nginx.
                 Nous ajouterons une partie sur PHPMyAdmin sous peu, avec
                 la configuration que tu donnes, merci Ã  toi.
                 RÃ©pondre
   24. Maxime dit :
       11 juin 2014 Ã  11 h 18 min
       Merci pour ce tuto trÃ¨s utile !!!
       Je me permet de vous signaler une faute de frappe, le fichier de
       configuration de Nginx se situe dans
       Â« /etc/nginx/sites-available/default Â» et non pas dans
       Â« /etc/nginx/sites-avaible/default Â». La commande Ã  exÃ©cuter est
       donc Â« nano /etc/nginx/sites-available/default Â».
       RÃ©pondre
         1. raspbian-france dit :
            11 juin 2014 Ã  15 h 17 min
            Merci de nous avoir signalÃ© le problÃ¨me, nous corrigeons
            immÃ©diatement.
            RÃ©pondre

Navigation dans les commentaires

   Commentaires plus rÃ©cents
   Partager
     * Twitter
     * Facebook
     * Google +
     * E-mail

   Inscription Ã  la Newsletter
   ____________________ S'inscrire
   Inscrivez-vous Ã  la Newsletter.
   Vous avez aimÃ© cet article ?
   Inscrivez-vous et restez informÃ© !
   ____________________ S'inscrire

   [logo-raspbian-gray-small.png] [svg%3E]
   Copyright Â© 2016 Raspberry Pi FR - Textes soumis au droit d'auteur
   Conditions GÃ©nÃ©rales d'Utilisation
   Raspberry Pi est une marque dÃ©posÃ©e de la Raspberry Pi Foundation
   GitHub Twitter RSS
    #Raspberry Pi FR Â» Flux de lâ€™Ã©tiquette vpn

   IFRAME: https://www.googletagmanager.com/ns.html?id=GTM-KSNWSC

   Raspberry Pi FR Raspberry Pi FR Raspberry Pi FR
     * Accueil
     * Tutoriels
     * ActualitÃ©s
     * TÃ©lÃ©chargements
     * Contact
          + Publiez un article chez Raspbian France
          + Contactez nous
          + Nos partenaires
     * Forum
     * FranÃ§ais FranÃ§ais

   ____________________ (BUTTON)
   ____________________ (BUTTON)
     * Accueil
     * Tutoriels
     * ActualitÃ©s
     * TÃ©lÃ©chargements
     * Contact
          + Publiez un article chez Raspbian France
          + Contactez nous
          + Nos partenaires
     * Forum
     * FranÃ§ais FranÃ§ais

Les articles qui parlent vpn

   Vous cherchez un article autour de ce sujet ?
   Vous Ãªtes au bon endroit !
   ____________________ (BUTTON)
   Tous les articles
   [anonymous-626x352.jpeg] [svg%3E]

Connectez votre Raspberry Pi Ã  un VPN

   Par Raspberry Pi FR le 28 juin 2017 - 11 commentaires

   Cet article fait suite Ã  lâ€™article sorti la semaine derniÃ¨re sur la
   mise en place dâ€™une seedbox personnelle. En effet comme on lâ€™a suggÃ©rÃ©
   Ã  la fin de lâ€™article, il peut Ãªtre trÃ¨s intÃ©ressant de rendre anonyme
   le trafic internet de votre seedbox grÃ¢ce Ã  lâ€™utilisation dâ€™un VPN. Cet
   article restera nÃ©anmoins utile Ã  tous ceux [â€¦]
   Lire la suite de l'article

   [logo-raspbian-gray-small.png] [svg%3E]
   Copyright Â© 2016 Raspberry Pi FR - Textes soumis au droit d'auteur
   Conditions GÃ©nÃ©rales d'Utilisation
   Raspberry Pi est une marque dÃ©posÃ©e de la Raspberry Pi Foundation
   GitHub Twitter RSS
